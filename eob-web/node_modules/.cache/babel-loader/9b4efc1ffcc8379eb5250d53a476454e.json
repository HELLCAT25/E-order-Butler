{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yingl\\\\Google Drive\\\\Laioffer_FullStack\\\\code\\\\flagcamp\\\\E-order-Butler\\\\eob-web\\\\src\\\\components\\\\Main.js\";\nimport React from 'react';\nimport Dataview from './Dataview';\nimport UserInput from './UserInput';\nimport SearchBar from './SearchBar';\nimport a from \"../assets/json_file/userOrder.json\"; // profile and data view's parent\n\nconst url = \"http://localhost:8085/eOrderButler/getShoppingOrderById/1\";\nconst localDir = \"../assets/json_file/userOrder.json\";\nconst proxyurl = \"https://cors-anywhere.herokuapp.com/\"; // var proxyUrl = 'https://cors-anywhere.herokuapp.com/'\n//\n// fetch(proxyUrl + API)\n//     .then(blob => blob.json())\n//     .then(data => {\n//         console.table(data);\n//         document.querySelector(\"pre\").innerHTML = JSON.stringify(data, null, 2);\n//         return data;\n//     })\n//     .catch(e => {\n//         console.log(e);\n//         return e;\n//     });\n// fetch(API)\n//     .then(response => response.json())\n//     .then((resp) => resp.json())\n//     .then(function(data) {\n//         console.log(data);\n//     }).catch(function(error) {\n//     alert(\"HTTP-Error\");\n// });\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      PostData: []\n    };\n    this.handleAddTodo = this.handleAddTodo.bind(this);\n  }\n\n  handleAddTodo(text) {//this.setState(prevState => ({ todos : [...prevState. todos , text] })) ;\n  }\n\n  async componentDidMount() {\n    await this.setState({\n      PostData: a\n    }); // var myInit = {method: 'GET',\n    //                 headers : {\n    //                     'Content-Type': 'application/json',\n    //                     'Accept': 'application/json',\n    //                     'Origin':'http://localhost:3001'\n    //                 },\n    //                 mode: 'cors',\n    //                 cache: 'default'\n    // };\n    //\n    // let myRequest = new Request(url, myInit);\n    //\n    // await fetch(myRequest)\n    //     .then(response => response)\n    //      //.then(response => response.json())\n    //      //.then(data => this.setState({PostData: data}))\n    //     .then(data => {console.log(data);}).\n    //     catch(err => {alert(\"Error Reading data \" + err);\n    // });\n\n    var express = require('express');\n\n    var cors = require('cors');\n\n    var app = express();\n    var whitelist = ['http://localhost:8085'];\n\n    var corsOptionsDelegate = function (req, callback) {\n      var corsOptions;\n\n      if (whitelist.indexOf(req.header('Origin')) !== -1) {\n        corsOptions = {\n          origin: true\n        }; // reflect (enable) the requested origin in the CORS response\n      } else {\n        corsOptions = {\n          origin: false\n        }; // disable CORS for this request\n      }\n\n      callback(null, corsOptions); // callback expects two parameters: error and options\n    };\n\n    app.get('/eOrderButler/getShoppingOrderById/1', cors(corsOptionsDelegate), function (req, res, next) {\n      res.json({\n        msg: 'This is CORS-enabled for a whitelisted domain.'\n      });\n    });\n    app.listen(80, function () {\n      console.log('CORS-enabled web server listening on port 80');\n    });\n    console.log(this.state); //debugger\n  }\n\n  render() {\n    //debugger;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dateview\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Dataview, {\n      PostData: this.state.PostData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(UserInput, {\n      handleAddTodo: this.handleAddTodo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["C:/Users/yingl/Google Drive/Laioffer_FullStack/code/flagcamp/E-order-Butler/eob-web/src/components/Main.js"],"names":["React","Dataview","UserInput","SearchBar","a","url","localDir","proxyurl","Main","Component","constructor","props","state","PostData","handleAddTodo","bind","text","componentDidMount","setState","express","require","cors","app","whitelist","corsOptionsDelegate","req","callback","corsOptions","indexOf","header","origin","get","res","next","json","msg","listen","console","log","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Dataview from './Dataview';\r\nimport UserInput from './UserInput';\r\nimport SearchBar from './SearchBar' ;\r\n\r\nimport a from \"../assets/json_file/userOrder.json\"\r\n\r\n// profile and data view's parent\r\n\r\nconst url = \"http://localhost:8085/eOrderButler/getShoppingOrderById/1\";\r\nconst localDir = \"../assets/json_file/userOrder.json\";\r\nconst proxyurl = \"https://cors-anywhere.herokuapp.com/\";\r\n\r\n// var proxyUrl = 'https://cors-anywhere.herokuapp.com/'\r\n//\r\n// fetch(proxyUrl + API)\r\n//     .then(blob => blob.json())\r\n//     .then(data => {\r\n//         console.table(data);\r\n//         document.querySelector(\"pre\").innerHTML = JSON.stringify(data, null, 2);\r\n//         return data;\r\n//     })\r\n//     .catch(e => {\r\n//         console.log(e);\r\n//         return e;\r\n//     });\r\n\r\n// fetch(API)\r\n//     .then(response => response.json())\r\n//     .then((resp) => resp.json())\r\n//     .then(function(data) {\r\n//         console.log(data);\r\n//     }).catch(function(error) {\r\n//     alert(\"HTTP-Error\");\r\n// });\r\n\r\nclass Main extends React.Component {\r\n    constructor (props) {\r\n        super (props);\r\n        this.state = {\r\n            PostData: [],\r\n        };\r\n        this.handleAddTodo = this.handleAddTodo.bind(this);\r\n    }\r\n\r\n    handleAddTodo (text) {\r\n        //this.setState(prevState => ({ todos : [...prevState. todos , text] })) ;\r\n    }\r\n\r\n\r\n    async componentDidMount() {\r\n\r\n        await this.setState({PostData: a});\r\n\r\n        // var myInit = {method: 'GET',\r\n        //                 headers : {\r\n        //                     'Content-Type': 'application/json',\r\n        //                     'Accept': 'application/json',\r\n        //                     'Origin':'http://localhost:3001'\r\n        //                 },\r\n        //                 mode: 'cors',\r\n        //                 cache: 'default'\r\n        // };\r\n        //\r\n        // let myRequest = new Request(url, myInit);\r\n        //\r\n        // await fetch(myRequest)\r\n        //     .then(response => response)\r\n        //      //.then(response => response.json())\r\n        //      //.then(data => this.setState({PostData: data}))\r\n        //     .then(data => {console.log(data);}).\r\n        //     catch(err => {alert(\"Error Reading data \" + err);\r\n        // });\r\n\r\n        var express = require('express')\r\n        var cors = require('cors')\r\n        var app = express()\r\n\r\n        var whitelist = ['http://localhost:8085']\r\n        var corsOptionsDelegate = function (req, callback) {\r\n            var corsOptions;\r\n            if (whitelist.indexOf(req.header('Origin')) !== -1) {\r\n                corsOptions = { origin: true } // reflect (enable) the requested origin in the CORS response\r\n            } else {\r\n                corsOptions = { origin: false } // disable CORS for this request\r\n            }\r\n            callback(null, corsOptions) // callback expects two parameters: error and options\r\n        }\r\n\r\n        app.get('/eOrderButler/getShoppingOrderById/1', cors(corsOptionsDelegate), function (req, res, next) {\r\n            res.json({msg: 'This is CORS-enabled for a whitelisted domain.'})\r\n        })\r\n\r\n        app.listen(80, function () {\r\n            console.log('CORS-enabled web server listening on port 80')\r\n        })\r\n\r\n        console.log(this.state)\r\n        //debugger\r\n    }\r\n\r\n\r\n    render () {\r\n        //debugger;\r\n        return (\r\n            <div className =\"main\" >\r\n                <SearchBar />\r\n                <div className =\"dateview\" >\r\n                    <Dataview PostData = { this.state.PostData }/>\r\n                </div>\r\n                <div className =\"add\" >\r\n                    <UserInput handleAddTodo= { this.handleAddTodo } />\r\n                </div>\r\n            </div>\r\n        ) ;\r\n    }\r\n}\r\n\r\n\r\nexport default Main;"]},"metadata":{},"sourceType":"module"}