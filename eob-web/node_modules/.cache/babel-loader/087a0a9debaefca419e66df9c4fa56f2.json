{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yingl\\\\Google Drive\\\\Laioffer_FullStack\\\\code\\\\flagcamp\\\\E-order-Butler\\\\eob-web\\\\src\\\\components\\\\Main.js\";\nimport React from 'react';\nimport Dataview from './Dataview';\nimport UserInput from './UserInput';\nimport SearchBar from './SearchBar';\nimport UserService from \"../services/user.service\";\nimport { useHistory, withRouter } from \"react-router-dom\";\nimport Popup from \"reactjs-popup\";\nimport axios, * as others from 'axios';\nimport authHeader from '../services/auth-header';\nconst url_getall = \"http://localhost:8085/eOrderButler/getAllShoppingOrders\";\nconst url_add = \"http://localhost:8085/eOrderButler/addShoppingOrder\";\nconst url_search = \"http://localhost:8085/eOrderButler/search/\"; // const localDir = \"../assets/json_file/userOrder.json\";\n\nclass Popup_m extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"popup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"popup_inner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 21\n      }\n    }, this.props.text), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.props.closePopup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 21\n      }\n    }, \"Back to Home\")));\n  }\n\n}\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.toggleClose = () => {\n      axios.get(url_getall, {\n        headers: authHeader()\n      }).then(response => {\n        console.log(response);\n        this.setState({\n          PostData: response.data\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n      this.setState({\n        showPopup: !this.state.showPopup\n      });\n    };\n\n    this.loadInfoAdd = text => {\n      console.log(\"we are adding\");\n      console.log(text);\n      const text1 = \"https://ship.sephora.com/tracking/sephora/ups?dzip=63112-1114&locale=en_US&order_number=25275089654&tracking_numbers=1Z5R68920339139401\";\n      const text2 = \"https://ship.sephora.com/tracking/sephora/ups?dzip=63112-1114&locale=en_US&order_number=25273301663&tracking_numbers=1Z5R68990310574080\";\n      axios({\n        method: 'post',\n        url: url_add,\n        headers: { ...authHeader(),\n          'Content-Type': 'text/plain'\n        },\n        data: text // This is the body part\n\n      }).then(response => {\n        console.log(response);\n        this.setState({\n          showPopup: true\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.loadInfoSearch = txt => {\n      axios.get(url_search + txt, {\n        headers: authHeader()\n      }).then(response => {\n        console.log(response);\n        this.setState({\n          PostData: response.data\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.handlePressEnter = name => {\n      this.loadInfoSearch(name);\n    };\n\n    this.handleAddTodo = name => {\n      this.loadInfoAdd(name);\n    };\n\n    this.state = {\n      PostData: [],\n      showPopup: false\n    };\n    this.handleAddTodo = this.handleAddTodo.bind(this);\n    this.handlePressEnter = this.handlePressEnter.bind(this);\n  }\n\n  togglePopup() {\n    this.setState({\n      showPopup: !this.state.showPopup\n    });\n  }\n\n  async componentDidMount() {\n    await axios.get(url_getall, {\n      headers: authHeader()\n    }).then(response => {\n      this.setState({\n        PostData: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    //debugger;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.togglePopup.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, \"show popup\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, this.state.showPopup ? /*#__PURE__*/React.createElement(Popup_m, {\n      text: \"Success! (\\u25D5\\u203F\\u25D5\\u273F)\",\n      closePopup: this.toggleClose.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }) : null), /*#__PURE__*/React.createElement(SearchBar, {\n      className: \"search\",\n      handlePressEnter: this.handlePressEnter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dataview\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Dataview, {\n      PostData: this.state.PostData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(UserInput, {\n      handleAddTodo: this.handleAddTodo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["C:/Users/yingl/Google Drive/Laioffer_FullStack/code/flagcamp/E-order-Butler/eob-web/src/components/Main.js"],"names":["React","Dataview","UserInput","SearchBar","UserService","useHistory","withRouter","Popup","axios","others","authHeader","url_getall","url_add","url_search","Popup_m","Component","render","props","text","closePopup","Main","constructor","toggleClose","get","headers","then","response","console","log","setState","PostData","data","catch","error","showPopup","state","loadInfoAdd","text1","text2","method","url","loadInfoSearch","txt","handlePressEnter","name","handleAddTodo","bind","togglePopup","componentDidMount"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Dataview from './Dataview';\r\nimport UserInput from './UserInput';\r\nimport SearchBar from './SearchBar' ;\r\nimport UserService from \"../services/user.service\";\r\nimport { useHistory, withRouter } from \"react-router-dom\";\r\nimport Popup from \"reactjs-popup\";\r\n\r\nimport axios, * as others from 'axios';\r\nimport authHeader from '../services/auth-header';\r\n\r\nconst url_getall = \"http://localhost:8085/eOrderButler/getAllShoppingOrders\";\r\nconst url_add = \"http://localhost:8085/eOrderButler/addShoppingOrder\";\r\nconst url_search = \"http://localhost:8085/eOrderButler/search/\";\r\n\r\n// const localDir = \"../assets/json_file/userOrder.json\";\r\n\r\n\r\nclass Popup_m extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className='popup'>\r\n                <div className='popup_inner'>\r\n                    <h1>{this.props.text}</h1>\r\n                    <button onClick={this.props.closePopup}>Back to Home</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Main extends React.Component {\r\n    constructor (props) {\r\n        super (props);\r\n        this.state = {\r\n            PostData: [],\r\n            showPopup: false\r\n        };\r\n        this.handleAddTodo = this.handleAddTodo.bind(this);\r\n        this.handlePressEnter = this.handlePressEnter.bind(this);\r\n    }\r\n\r\n    togglePopup() {\r\n        this.setState({\r\n            showPopup: !this.state.showPopup\r\n        });\r\n    }\r\n\r\n    toggleClose = () => {\r\n        axios.get(url_getall, { headers: authHeader() })\r\n            .then((response) => {\r\n                console.log(response);\r\n                this.setState({PostData: response.data})\r\n            })\r\n            .catch((error)=>{\r\n                console.log(error);\r\n            });\r\n\r\n        this.setState({\r\n            showPopup: !this.state.showPopup\r\n        });\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await axios.get(url_getall, { headers: authHeader() })\r\n            .then((response) => {\r\n                this.setState({PostData: response.data})\r\n            })\r\n            .catch((error)=>{\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    loadInfoAdd = (text) => {\r\n        console.log(\"we are adding\");\r\n        console.log(text);\r\n        const text1 = \"https://ship.sephora.com/tracking/sephora/ups?dzip=63112-1114&locale=en_US&order_number=25275089654&tracking_numbers=1Z5R68920339139401\"\r\n        const text2 = \"https://ship.sephora.com/tracking/sephora/ups?dzip=63112-1114&locale=en_US&order_number=25273301663&tracking_numbers=1Z5R68990310574080\"\r\n        axios({\r\n            method: 'post',\r\n            url: url_add,\r\n            headers: {...authHeader(),'Content-Type': 'text/plain'},\r\n            data: text, // This is the body part\r\n        }).then((response) => {\r\n            console.log(response);\r\n            this.setState({showPopup: true})\r\n        }).catch((error)=>{\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    loadInfoSearch = (txt) => {\r\n        axios.get(url_search + txt, { headers: authHeader() })\r\n            .then((response) => {\r\n                console.log(response);\r\n                this.setState({PostData: response.data})\r\n            })\r\n            .catch((error)=>{\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    handlePressEnter = (name) => {\r\n        this.loadInfoSearch(name);\r\n    }\r\n\r\n    handleAddTodo = (name) => {\r\n        this.loadInfoAdd(name);\r\n    }\r\n\r\n\r\n    render () {\r\n        //debugger;\r\n        return (\r\n            <div className =\"main\" >\r\n                <button onClick={this.togglePopup.bind(this)}>show popup</button>\r\n                <div className='app'>\r\n                    {this.state.showPopup ?\r\n                        <Popup_m\r\n                            text='Success! (◕‿◕✿)'\r\n                            closePopup={this.toggleClose.bind(this)}\r\n                        />\r\n                        : null\r\n                    }\r\n                </div>\r\n\r\n                <SearchBar className =\"search\"\r\n                    handlePressEnter = { this.handlePressEnter } />\r\n\r\n                <div className =\"dataview\" >\r\n                    <Dataview PostData = { this.state.PostData }/>\r\n                </div>\r\n                <br/>\r\n                <br/>\r\n                <div className =\"add\" >\r\n                    <UserInput handleAddTodo= { this.handleAddTodo } />\r\n                </div>\r\n            </div>\r\n        ) ;\r\n    }\r\n}\r\n\r\n\r\nexport default Main;"]},"metadata":{},"sourceType":"module"}