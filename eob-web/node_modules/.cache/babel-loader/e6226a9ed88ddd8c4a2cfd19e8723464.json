{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yingl\\\\Google Drive\\\\Laioffer_FullStack\\\\code\\\\flagcamp\\\\E-order-Butler\\\\eob-web\\\\src\\\\components\\\\SearchBar.js\";\nimport React, { Component } from 'react';\nimport { AutoComplete, Input, Icon } from 'antd';\nimport axios, * as others from 'axios';\nimport authHeader from '../services/auth-header';\nconst url_search = \"http://localhost:8085/eOrderButler/search/\";\n\nclass SearchBar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSearch = value => {\n      // 每输入一个char就update result，双向绑定\n      axios.get(url_search + value, {\n        headers: authHeader()\n      }).then(response => {\n        console.log(response);\n        this.setState({\n          // clean response data\n          dataSource: !value ? [] : response.data.map((postDetail, index) => ({\n            itemMerchant: postDetail.merchant,\n            orderId: postDetail.orderId\n          }))\n        }).catch(error => {\n          console.log(error);\n        });\n      });\n    };\n\n    this.state = {\n      userInput: ''\n    };\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleEnter = this.handleEnter.bind(this);\n  }\n\n  handleInputChange(e) {\n    this.setState({\n      userInput: e.target.value\n    });\n    console.log(this.state.userInput);\n  }\n\n  handleEnter() {\n    const text = this.state.userInput;\n\n    if (text) {\n      this.props.handlePressEnter(text);\n    }\n\n    this.setState({\n      userInput: ''\n    });\n  }\n\n  render() {\n    // const { dataSource } = this.state ;\n    // const options = dataSource. map ((postDetail) => (\n    //     <Option key = {postDetail.merchant} value = {postDetail.orderId}\n    //             className =\"player-option\" >\n    //         <span className =\"player-option-label\" > {postDetail.orderId } </span>\n    //     </Option>\n    // ));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      onChange: this.handleInputChange,\n      value: this.state.userInput,\n      onPressEnter: this.handleEnter,\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"\\uF002 Search Item and Press Enter : )\",\n      \"aria-label\": \"Recipient's username\",\n      \"aria-describedby\": \"basic-addon2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }));\n  }\n\n} // class SearchBar extends Component {\n//     render () {\n//         return (\n//             <form className=\"form-inline d-flex justify-content-center md-form form-sm active-cyan active-cyan-2 mt-2\">\n//                 <i className=\"fas fa-search\" aria-hidden=\"true\"></i>\n//                 <input className=\"form-control form-control-sm ml-3 w-75, search-bar\" type=\"text\" placeholder=\"Search\"\n//                        aria-label=\"Search\"/>\n//             </form>\n//         );\n//     }\n// }\n// {/*<AutoComplete*/}\n// {/*    className =\"search-bar\"*/}\n// {/*    dataSource = {options}*/}\n// {/*    onKeyDown = {this.onPressEnter}*/}\n// {/*    // onSearch = { this.handleSearch }*/}\n// {/*    placeholder =\"Search Your Item\"*/}\n// {/*    size =\"large\"*/}\n// {/*    optionLabelProp =\"value\"*/}\n// {/*>*/}\n// {/*    <Input suffix = { <Icon type =\"search\" className =\"certain-category-icon\"*/}\n// {/*    /> } />*/}\n// {/*</AutoComplete>*/}\n\n\nexport default SearchBar;","map":{"version":3,"sources":["C:/Users/yingl/Google Drive/Laioffer_FullStack/code/flagcamp/E-order-Butler/eob-web/src/components/SearchBar.js"],"names":["React","Component","AutoComplete","Input","Icon","axios","others","authHeader","url_search","SearchBar","constructor","props","handleSearch","value","get","headers","then","response","console","log","setState","dataSource","data","map","postDetail","index","itemMerchant","merchant","orderId","catch","error","state","userInput","bind","handleInputChange","handleEnter","e","target","text","handlePressEnter","render"],"mappings":"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","sourcesContent":["import React , {Component} from 'react' ;\r\nimport { AutoComplete , Input , Icon,  } from 'antd' ;\r\n\r\nimport axios, * as others from 'axios';\r\nimport authHeader from '../services/auth-header';\r\n\r\nconst url_search = \"http://localhost:8085/eOrderButler/search/\";\r\n\r\n\r\nclass SearchBar extends Component {\r\n    constructor (props) {\r\n        super (props) ;\r\n        this.state = { userInput : '' } ;\r\n        this.handleSearch = this.handleSearch.bind(this) ;\r\n        this.handleInputChange = this.handleInputChange.bind(this) ;\r\n        this.handleEnter = this.handleEnter.bind(this) ;\r\n    }\r\n\r\n    handleSearch = (value) => {\r\n        // 每输入一个char就update result，双向绑定\r\n        axios.get(url_search + value, { headers: authHeader() })\r\n            .then((response) => {\r\n                console.log(response);\r\n                this.setState ({\r\n                    // clean response data\r\n                    dataSource : !value ?\r\n                        [] : response.data.map ((postDetail, index) => ({\r\n                            itemMerchant : postDetail.merchant ,\r\n                            orderId : postDetail.orderId ,\r\n                        }))\r\n                }).catch((error)=>{\r\n                    console.log(error);\r\n                });\r\n            })\r\n    }\r\n\r\n    handleInputChange (e) {\r\n        this.setState({ userInput : e.target.value }) ;\r\n        console.log(this.state.userInput)\r\n    }\r\n\r\n    handleEnter () {\r\n        const text = this.state.userInput ;\r\n        if (text) {\r\n            this.props.handlePressEnter(text) ;\r\n        }\r\n        this.setState({ userInput : '' }) ;\r\n    }\r\n\r\n    render () {\r\n        // const { dataSource } = this.state ;\r\n        // const options = dataSource. map ((postDetail) => (\r\n        //     <Option key = {postDetail.merchant} value = {postDetail.orderId}\r\n        //             className =\"player-option\" >\r\n        //         <span className =\"player-option-label\" > {postDetail.orderId } </span>\r\n        //     </Option>\r\n        // ));\r\n        return (\r\n            <div className = \"search-bar\">\r\n\r\n                <Input \r\n                    onChange={this.handleInputChange} value={this.state.userInput} onPressEnter={this.handleEnter} type=\"text\"\r\n                       className=\"form-control\" placeholder=\"&#xF002; Search Item and Press Enter : )\"\r\n                       aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\" />\r\n                {/*<Input onPressEnter={this.onPressEnter} placeholder=\"This is search bar\" />*/}\r\n            </div>\r\n\r\n        ) ;\r\n    }\r\n}\r\n\r\n\r\n\r\n// class SearchBar extends Component {\r\n//     render () {\r\n//         return (\r\n//             <form className=\"form-inline d-flex justify-content-center md-form form-sm active-cyan active-cyan-2 mt-2\">\r\n//                 <i className=\"fas fa-search\" aria-hidden=\"true\"></i>\r\n//                 <input className=\"form-control form-control-sm ml-3 w-75, search-bar\" type=\"text\" placeholder=\"Search\"\r\n//                        aria-label=\"Search\"/>\r\n//             </form>\r\n//         );\r\n//     }\r\n// }\r\n\r\n\r\n// {/*<AutoComplete*/}\r\n// {/*    className =\"search-bar\"*/}\r\n// {/*    dataSource = {options}*/}\r\n// {/*    onKeyDown = {this.onPressEnter}*/}\r\n// {/*    // onSearch = { this.handleSearch }*/}\r\n// {/*    placeholder =\"Search Your Item\"*/}\r\n// {/*    size =\"large\"*/}\r\n// {/*    optionLabelProp =\"value\"*/}\r\n// {/*>*/}\r\n// {/*    <Input suffix = { <Icon type =\"search\" className =\"certain-category-icon\"*/}\r\n// {/*    /> } />*/}\r\n// {/*</AutoComplete>*/}\r\n\r\nexport default SearchBar;"]},"metadata":{},"sourceType":"module"}